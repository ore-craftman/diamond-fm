{"version":3,"sources":["components/shared/DeleteUser.jsx","components/shared/Profile.jsx"],"names":["axios","require","DeleteUser","userId","history","useHistory","useState","show","setShow","handleClose","deleteHandler","a","delete","deleted","data","status","document","cookie","split","forEach","push","console","log","onHide","Header","closeButton","Title","Body","className","onClick","Profile","id","currentUserData","userData","setUserData","firstname","setFirstname","lastname","setLastname","email","setEmail","role","setRole","avatar","setAvatar","canPublish","setCanPublish","submitting","setSubmitting","userUpdated","setUserUpdated","password","setPassword","passwordMatch","setPasswordMatch","renderConfPassMatchHint","setRenderConfPassMatchHint","changing","setChanging","passwordUpdated","setPasswordUpdated","useEffect","cookieString","get","then","response","user","catch","err","updateUser","newDataObj","post","submitHandler","e","preventDefault","newData","_id","reader","FileReader","addEventListener","result","readAsDataURL","style","minHeight","variant","height","width","src","rounded","onSubmit","Group","controlId","Label","Control","type","placeholder","value","required","onChange","target","Select","Text","accept","name","files","disabled","as","size","animation","length"],"mappings":"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","file":"static/js/26.1d49a4a2.chunk.js","sourcesContent":["import { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nconst axios = require(\"axios\");\r\n\r\nconst DeleteUser = ({ userId }) => {\r\n  const history = useHistory();\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  const deleteHandler = async () => {\r\n    const deleted = await axios.delete(`/users/delete/${userId}`);\r\n    if (deleted.data.status) {\r\n      document.cookie.split(\";\").forEach((cookie) => {\r\n        let cookieString = cookie.split(\"=\");\r\n        if (cookieString[0] === \"uid\") {\r\n          document.cookie = `uid=;expires==Thu, 01 Jan 1970 00:00:00 GMT;path=/;`;\r\n          history.push(\"/df-login\");\r\n        }\r\n      });\r\n    } else {\r\n      console.log(deleted.data);\r\n    }\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Delete user</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          Woohoo, are you're trying to delete user?\r\n          <div className=\"d-flex flex-nowrap my-2\">\r\n            <button className=\"btn btn-secondary me-2\" onClick={handleClose}>\r\n              Not at all\r\n            </button>\r\n            <button className=\"btn btn-danger\" onClick={deleteHandler}>\r\n              Yes, Delete user\r\n            </button>\r\n          </div>\r\n        </Modal.Body>\r\n        {/* <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={handleClose}>\r\n            Save Changes\r\n          </Button>\r\n        </Modal.Footer> */}\r\n      </Modal>\r\n\r\n      <button className=\"btn btn-danger\" onClick={handleShow}>\r\n        Delete Account\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeleteUser;\r\n","import { useState, useEffect } from \"react\";\r\nimport Image from \"react-bootstrap/Image\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Loader from \"./Loader\";\r\nimport DeleteUser from \"./DeleteUser\";\r\nconst axios = require(\"axios\");\r\n\r\nconst Profile = ({ id, currentUserData }) => {\r\n  let userId = \"\";\r\n  const [userData, setUserData] = useState(null);\r\n  const [firstname, setFirstname] = useState(null);\r\n  const [lastname, setLastname] = useState(null);\r\n  const [email, setEmail] = useState(null);\r\n  const [role, setRole] = useState(null);\r\n  const [avatar, setAvatar] = useState(null);\r\n  const [canPublish, setCanPublish] = useState(null);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [userUpdated, setUserUpdated] = useState(false);\r\n\r\n  const [password, setPassword] = useState(\"\");\r\n  const [passwordMatch, setPasswordMatch] = useState(\"\");\r\n  const [renderConfPassMatchHint, setRenderConfPassMatchHint] = useState(null);\r\n  const [changing, setChanging] = useState(false);\r\n  const [passwordUpdated, setPasswordUpdated] = useState(false);\r\n  useEffect(() => {\r\n    if (password === passwordMatch) {\r\n      setRenderConfPassMatchHint(false);\r\n    }\r\n  }, [password, passwordMatch]);\r\n\r\n  if (!id) {\r\n    document.cookie.split(\";\").forEach((cookie) => {\r\n      const cookieString = cookie.split(\"=\");\r\n      if (cookieString[0] === \"uid\") {\r\n        userId = cookieString[1];\r\n      }\r\n    });\r\n  } else {\r\n    userId = id;\r\n  }\r\n\r\n  const changePassHandler = (e) => {\r\n    e.preventDefault();\r\n    setChanging(true);\r\n\r\n    if (password.length < 8 || password !== passwordMatch) {\r\n      setChanging(false);\r\n    } else {\r\n      axios\r\n        .post(\"/users/reset-password/\", { userId, password })\r\n        .then((response) => {\r\n          if (response.data.status) {\r\n            setPasswordUpdated(true);\r\n            setChanging(false);\r\n          } else {\r\n            console.log(response);\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`/users/${userId}`)\r\n      .then((response) => {\r\n        if (response.data.status) {\r\n          setUserData(response.data.user);\r\n          setFirstname(response.data.user.firstname);\r\n          setLastname(response.data.user.lastname);\r\n          setEmail(response.data.user.email);\r\n          setRole(response.data.user.role);\r\n          setAvatar(response.data.user.avatar);\r\n          setCanPublish(response.data.user.canPublish);\r\n        } else {\r\n          console.log(response);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [userId, userUpdated, currentUserData]);\r\n\r\n  const updateUser = (newDataObj) => {\r\n    axios.post(\"/users/account/update\", newDataObj).then((response) => {\r\n      if (response.data.status) {\r\n        setUserUpdated(true);\r\n      } else {\r\n        console.log(response);\r\n      }\r\n    });\r\n  };\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    setSubmitting(true);\r\n    let newData = {\r\n      id: userData._id,\r\n      firstname,\r\n      lastname,\r\n      email,\r\n      role,\r\n      avatar,\r\n      canPublish,\r\n    };\r\n\r\n    // iF user enters avatar convert to base 64\r\n    const reader = new FileReader();\r\n\r\n    if (typeof avatar !== \"string\") {\r\n      reader.addEventListener(\"load\", async () => {\r\n        newData.avatar = reader.result;\r\n\r\n        // TODO: call updateUser() with new data\r\n        await updateUser(newData);\r\n        setSubmitting(false);\r\n      });\r\n\r\n      reader.readAsDataURL(avatar);\r\n    } else {\r\n      // TODO: call updateUser() with new data\r\n      await updateUser(newData);\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      {userData ? (\r\n        <div>\r\n          <section\r\n            style={{ minHeight: \"80px\" }}\r\n            className=\"bg-white px-4 py-5 me-md-2 my-3 rounded-3 shadow\"\r\n          >\r\n            {userUpdated && <Alert variant=\"success\">Account Updated</Alert>}\r\n\r\n            <h4>Profile</h4>\r\n\r\n            <div className=\"d-flex flex-nowrap align-items-center mt-4\">\r\n              <Image\r\n                height=\"180\"\r\n                width=\"171\"\r\n                className=\"me-3\"\r\n                src={\r\n                  userData.avatar !== \"null\"\r\n                    ? userData.avatar\r\n                    : \"/media/userProfile.svg\"\r\n                }\r\n                rounded\r\n              />\r\n\r\n              <section>\r\n                <h5 className=\"text-secondary\">{userData.role}</h5>\r\n                <h3>{userData.firstname + \" \" + userData.lastname}</h3>\r\n                <p className=\"text-secondary mb-2\">{userData.email}</p>\r\n\r\n                {/* TODO: delete account to component with user prop  */}\r\n                {/* <button className=\"btn btn-danger\">Delete Account</button> */}\r\n                <DeleteUser userId={userData._id} />\r\n              </section>\r\n            </div>\r\n\r\n            <Form className=\"mt-5\" onSubmit={submitHandler}>\r\n              <h4>Update Details</h4>\r\n\r\n              <Row className=\"my-3\">\r\n                <Col>\r\n                  <Form.Group controlId=\"firstname\">\r\n                    <Form.Label>First Name</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      placeholder=\"Firstname\"\r\n                      value={firstname}\r\n                      required={true}\r\n                      onChange={(e) => setFirstname(e.target.value)}\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n                <Col>\r\n                  <Form.Group controlId=\"lastname\">\r\n                    <Form.Label>Last Name</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      placeholder=\"Lastname\"\r\n                      value={lastname}\r\n                      required={true}\r\n                      onChange={(e) => setLastname(e.target.value)}\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n              </Row>\r\n\r\n              <Row className=\"mb-3\">\r\n                <Col>\r\n                  <Form.Group controlId=\"email\">\r\n                    <Form.Label>Email Address</Form.Label>\r\n                    <Form.Control\r\n                      type=\"email\"\r\n                      placeholder=\"Email address\"\r\n                      value={email}\r\n                      required={true}\r\n                      onChange={(e) => setEmail(e.target.value)}\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n                <Col>\r\n                  <Form.Group controlId=\"role\">\r\n                    <Form.Label>Role</Form.Label>\r\n                    <Form.Select\r\n                      onChange={(e) => setRole(e.target.value)}\r\n                      value={role}\r\n                      required={true}\r\n                    >\r\n                      <option value=\"\">Select</option>\r\n                      <option value=\"editor\">Editor</option>\r\n                      <option value=\"admin\">Admin</option>\r\n                    </Form.Select>\r\n                    {role === \"\" && (\r\n                      <Form.Text className=\"text-danger\">\r\n                        Select a role! Editor or Admin\r\n                      </Form.Text>\r\n                    )}\r\n                  </Form.Group>\r\n                </Col>\r\n              </Row>\r\n\r\n              <Row className=\"mb-3\">\r\n                <Col>\r\n                  <Form.Group controlId=\"avatar\">\r\n                    <Form.Label>Profile picture</Form.Label>\r\n                    <Form.Control\r\n                      type=\"file\"\r\n                      accept=\".png, .jpg, jpeg\"\r\n                      name=\"avatar\"\r\n                      onChange={(e) => setAvatar(e.target.files[0])}\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n                <Col>\r\n                  <Form.Group controlId=\"role\">\r\n                    <Form.Label>Can Publish</Form.Label>\r\n                    <Form.Select\r\n                      onChange={(e) => setCanPublish(e.target.value)}\r\n                      value={canPublish}\r\n                      required={true}\r\n                      disabled={\r\n                        currentUserData && currentUserData.role === \"admin\"\r\n                          ? false\r\n                          : role && role === \"admin\"\r\n                          ? false\r\n                          : true\r\n                      }\r\n                    >\r\n                      <option value=\"\">Select</option>\r\n                      <option value={true}>Yes</option>\r\n                      <option value={false}>No</option>\r\n                    </Form.Select>\r\n                    {canPublish === \"\" && (\r\n                      <Form.Text className=\"text-danger\">\r\n                        Select a role! Editor or Admin\r\n                      </Form.Text>\r\n                    )}\r\n                  </Form.Group>\r\n                </Col>\r\n              </Row>\r\n\r\n              <Row>\r\n                <Col>\r\n                  <Button\r\n                    variant=\"success\"\r\n                    type=\"submit\"\r\n                    className=\"text-white\"\r\n                  >\r\n                    {submitting ? (\r\n                      <span>\r\n                        <Spinner\r\n                          as=\"span\"\r\n                          size=\"sm\"\r\n                          animation=\"border\"\r\n                          role=\"status\"\r\n                          aria-hidden=\"true\"\r\n                        />\r\n                        <span className=\"mx-1\">Updating...</span>\r\n                      </span>\r\n                    ) : (\r\n                      <span>Update Account</span>\r\n                    )}\r\n                  </Button>\r\n                </Col>\r\n                <Col></Col>\r\n              </Row>\r\n            </Form>\r\n          </section>\r\n\r\n          <section\r\n            style={{ minHeight: \"80px\" }}\r\n            className=\"bg-white px-4 py-5 me-md-2 my-5 rounded-3 shadow\"\r\n          >\r\n            {passwordUpdated && (\r\n              <Alert variant=\"success\" className=\"my-4\">\r\n                Password Updated\r\n              </Alert>\r\n            )}\r\n            <h4>Update Password</h4>\r\n\r\n            <Form onSubmit={changePassHandler}>\r\n              <Row className=\"mb-3\">\r\n                <Col>\r\n                  <Form.Group controlId=\"password\">\r\n                    <Form.Label>New Password</Form.Label>\r\n                    <Form.Control\r\n                      type=\"password\"\r\n                      placeholder=\"*******\"\r\n                      value={password}\r\n                      required={true}\r\n                      onChange={(e) => setPassword(e.target.value)}\r\n                    />\r\n                  </Form.Group>\r\n                  {password !== \"\" && password.length < 8 && (\r\n                    <Form.Text className=\"text-danger\">\r\n                      Password should be at least 8 characters\r\n                    </Form.Text>\r\n                  )}\r\n                </Col>\r\n                <Col>\r\n                  <Form.Group controlId=\"matchPassword\">\r\n                    <Form.Label>Confirm Password</Form.Label>\r\n                    <Form.Control\r\n                      type=\"password\"\r\n                      placeholder=\"*******\"\r\n                      value={passwordMatch}\r\n                      required={true}\r\n                      onChange={(e) => {\r\n                        setPasswordMatch(e.target.value);\r\n                        setRenderConfPassMatchHint(true);\r\n                      }}\r\n                    />\r\n                  </Form.Group>\r\n\r\n                  {renderConfPassMatchHint && (\r\n                    <Form.Text className=\"text-danger\">\r\n                      Should match your password\r\n                    </Form.Text>\r\n                  )}\r\n                </Col>\r\n              </Row>\r\n\r\n              <Row>\r\n                <Col>\r\n                  <Button\r\n                    variant=\"success\"\r\n                    type=\"submit\"\r\n                    className=\"text-white\"\r\n                  >\r\n                    {changing ? (\r\n                      <span>\r\n                        <Spinner\r\n                          as=\"span\"\r\n                          size=\"sm\"\r\n                          animation=\"border\"\r\n                          role=\"status\"\r\n                          aria-hidden=\"true\"\r\n                        />\r\n                        <span className=\"mx-1\">Changing...</span>\r\n                      </span>\r\n                    ) : (\r\n                      <span>Change Password</span>\r\n                    )}\r\n                  </Button>\r\n                </Col>\r\n                <Col></Col>\r\n              </Row>\r\n            </Form>\r\n          </section>\r\n        </div>\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"sourceRoot":""}